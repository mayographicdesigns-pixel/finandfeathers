<analysis>**original_problem_statement:**
The user wants to build a pixel-perfect clone of a restaurant's website. The project has evolved to include:
- A linktree-style homepage with a daily video carousel and navigation buttons.
- A dynamic menu page managed from a backend.
- A multi-location page system with a location-based check-in feature.
- A complete admin dashboard to manage all site content.
- PWA functionality with push notifications.
- A geolocation-based welcome popup.
- A My Account feature for users to manage their profile, view history, and interact with site content.
- An F&F token system for tipping and gifting.
- A role-based access control (RBAC) system with four tiers: Admin, Management, Staff, and Customer.
- A merchandise store integrated with WooCommerce.

**PRODUCT REQUIREMENTS:**
1.  **Homepage:** Linktree-style hub with a multi-video carousel, editable by an admin from the frontend.
2.  **Menu & Gallery Pages:** Data-driven from the backend.
3.  **Locations & Social Hub:** Geolocation check-in and a rich social hub.
4.  **Admin Dashboard:**
    *   CRUD for Menu, Gallery, Social Links, Videos, Locations, and location-specific Specials.
    *   **User & Role Management:** Admins can view all users, manage their roles (Admin, Management, Staff, Customer), and gift F&F tokens.
5.  **User Experience & My Account:**
    *   A My Account section for users to manage their profile and F&F tokens.
    *   **F&F Token Economy:** Users can purchase tokens, use them to tip staff/DJs, and gift drinks.
    *   **Role-Based Features:** Staff/DJs can collect tips and cash out.
6.  **Merchandise Store:** A new tab on the homepage that links to a page displaying products from the user's WooCommerce store.
7.  **Payment System:** All payments (token purchases, merchandise) must be handled through WooCommerce.

**User's preferred language**: English

**what currently exists?**
A feature-rich full-stack PWA with a React frontend and FastAPI backend.
- **Core Features:** An inline-editable homepage, admin-managed content (menu, gallery, locations, videos), and a comprehensive My Account page with profile management and role-based access control.
- **WooCommerce Integration:** All payment systems (token purchases, merchandise) have been successfully migrated to and are handled by WooCommerce. An in-app cart system is fully functional for the merchandise page.
- **Inline Editing:** Admins can now edit content directly on the Menu, Locations, and Location Detail pages without going to the admin panel.
- **Media Features:** The menu displays images for items. A lightbox component allows users to enlarge images on click. A new image uploader with square cropping functionality has been added to admin modals.
- **Content:** The drinks menu has been completely rebuilt to the user's latest specifications, organized into specific categories as line items.

**Last working item**:
-   Last item agent was working: Implementing the user's latest request to completely overhaul the drinks menu. This involved deleting all existing drinks and re-adding them with new descriptions and categories (, , ), all displayed as line items without images. The agent finished adding the items to the database and was in the process of taking screenshots to verify the final result.
-   Status: USER VERIFICATION PENDING
-   Agent Testing Done: Y
-   Which testing method agent to use? screenshot tool
-   User Testing Done: N

**All Pending/In progress Issue list**:
-   None.

**In progress Task List**:
-   Task 1: Finalize and verify the latest drinks menu update (P0)

 Task Detail:
  - Task 1: 
     - Where to resume: The agent has added all the new drinks to the database. The next step is to take comprehensive screenshots of the Menu page, showing the , , and  sections clearly, and present them to the user for final approval.
     - What will be achieved with this?: The drinks menu content will be finalized according to the user's explicit instructions.
     - Status: USER VERIFICATION PENDING
     - Should Test frontend/backend/both after fix?: frontend
     - Blocked on something: None

**Upcoming and Future Tasks**
-   Upcoming Tasks:
    -   (P1) Complete Admin Editing on Location Detail Page: Finish the implementation for editing location-specific specials on . The UI/admin bar was added, but the full functionality was not completed.
    -   (P1) Geolocation Sorting: On the main  page, sort the list of restaurants by the user's proximity.
-   Future Tasks:
    -   (P2) Location-Specific Content: Allow other content (besides specials) to be managed on a per-location basis.
    -   (P2) Enhance Merchandise Store: Add features like product search, more detailed product pages, and viewing order history within the app.

**Completed work in this session**
- **WooCommerce Payment Migration:** Fully migrated all payment processing from Stripe to WooCommerce, including token purchases and a new in-app merchandise cart. Tested and verified.
- **Homepage Layout Update:** Standardized button colors to red and rearranged sections on the homepage per user request.
- **Inline Admin Editing:**
    - Implemented frontend editing capabilities for admins on the  and , allowing for direct content management without visiting the admin panel.
    - Added the UI framework for editing on the .
- **Menu Image and Media Features:**
    - Added images to menu items and implemented a lightbox feature for enlarging them.
    - Created and integrated a reusable  component with square cropping for admin use.
- **Drinks Menu Overhaul:** Scraped, added, and later completely replaced the entire drinks menu multiple times based on evolving user requirements, with the final version being a structured list of line items.

**Earlier issues found/mentioned but not fixed**
-   None.

**Known issue recurrence from previous fork**
-   None.

**Code Architecture**


**Key Technical Concepts**
-   **Frontend:** React, React Router, TailwindCSS, PWA, Shadcn UI, 
-   **Backend:** FastAPI, MongoDB (Motor), Pydantic
-   **Architecture:** Full-stack monolith, REST API, Role-Based Access Control (RBAC)
-   **Integrations:** WooCommerce API

**key DB schema**
-   :  (image field now actively used)

**changes in tech stack**
-   Frontend dependencies added for  and  (or equivalent custom logic).

**All files of reference**
-   : Core file for menu display and new inline editing features.
-   : Updated with inline admin editing.
-   : Partially updated with admin editing UI.
-   : New component for handling image uploads and cropping.
-   : New component for displaying enlarged images.
-   : Contains API logic, including new bulk update endpoints.
-   : Contains homepage UI changes.

**Areas that need refactoring**:
-   The CSS for unifying button colors on the homepage was applied directly. This could be refactored to use a shared CSS class or theme variable for better maintainability.

**key api endpoints**
-   : **(NEW)** Updates multiple menu items at once.
-   : **(NEW)** Deletes all items in a given category.
-   : Existing endpoint now used by the new  component.

**Critical Info for New Agent**
-   Your first task is to confirm with the user that the latest, extensive update to the drinks menu is correct. Take clear screenshots of the relevant sections on the menu page.
-   The user is highly engaged and provides detailed, specific feedback, especially regarding content and UI. Be prepared to iterate based on this feedback.
-   The major architectural task of migrating payments to WooCommerce is complete and tested. The focus has shifted to frontend features and content management.

**documents and test reports created in this job**
-    (Updated)
-   Multiple reports in  confirming the stability of the WooCommerce integration, inline editing, and media features.

**Last 10 User Messages and any pending HUMAN messages** 
1.  **Request:** Add signature cocktails from a URL. - **Status: Completed** (then superseded).
2.  **Request:** Make all drinks line items for now and replace them with a large block of text for  DAILY SPECIALS. - **Status: Completed** (then superseded).
3.  **Request:** Add all drinks (Daily Specials, Signature Cocktails, Brunch Drinks) into their own sections with updated descriptions. - **Status: In Progress (Implementation done, pending user verification).**

**Project Health Check:**
-   **Broken:**
    -   None. The application is stable.
-   **Mocked:**
    -   None.

**3rd Party Integrations**
-   **WooCommerce:** Used for merchandise display and all payment processing.
-   **@dnd-kit:** Used for drag-and-drop on the homepage.
-   **passlib/bcrypt:** Used for password hashing.
-   **react-cropper:** Used for image cropping in the  component.

**Testing status**
-   Testing agent used after significant changes: YES (Multiple times, all passed).
-   Troubleshoot agent used after agent stuck in loop: NO
-   Test files created: None.
-   Known regressions: None.

**Credentials to test flow:**
-   **Admin Panel:**
    -   **URL:** 
    -   **Username:** 
    -   **Password:** 
-   **WooCommerce Credentials:** Available in .

**What agent forgot to execute**
-   The agent started adding admin editing functionality to the  by adding the admin bar, but did not complete the implementation for editing the location-specific specials. This is captured in the Upcoming Tasks.</analysis>
